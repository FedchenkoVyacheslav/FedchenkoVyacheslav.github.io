"use strict";var s=document.querySelector(".modal_message-js"),t=document.querySelector(".footer__button_message-js"),e=document.querySelector(".modal__close_message-js"),n=document.querySelector(".form__input_message-js");t.addEventListener("click",function(){s.classList.remove("modal_close"),n.focus()}),e.addEventListener("click",function(){s.classList.add("modal_close"),t.focus()}),window.addEventListener("keydown",function(e){s.classList.contains("modal_close")||"Escape"!==e.code||(s.classList.add("modal_close"),t.focus())});var o=document.querySelector(".modal_register-js"),a=document.querySelector(".header__register-button_js"),r=document.querySelector(".mobile-header__register-button_js"),i=document.querySelector(".modal__close_register-js"),l=document.querySelector(".form__input_register-js");r.addEventListener("click",function(){o.classList.remove("modal_close"),l.focus()}),a.addEventListener("click",function(){o.classList.remove("modal_close"),l.focus()}),i.addEventListener("click",function(){o.classList.add("modal_close"),a.focus()}),window.addEventListener("keydown",function(e){o.classList.contains("modal_close")||"Escape"!==e.code||(o.classList.add("modal_close"),a.focus())});var c=document.querySelector(".modal_sing-in-js"),d=document.querySelector(".header__sing-in-button_js"),u=document.querySelector(".mobile-header__sing-in-button_js"),m=document.querySelector(".modal__close_sing-in-js"),_=document.querySelector(".form__input_sing-in-js");u.addEventListener("click",function(){c.classList.remove("modal_close"),_.focus()}),d.addEventListener("click",function(){c.classList.remove("modal_close"),_.focus()}),m.addEventListener("click",function(){c.classList.add("modal_close"),d.focus()}),window.addEventListener("keydown",function(e){c.classList.contains("modal_close")||"Escape"!==e.code||(c.classList.add("modal_close"),d.focus())});var f,v=document.querySelector(".header__mobile-menu_js"),p=document.querySelector(".mobile-header__button-close_js"),h=document.querySelector(".mobile-header");function g(t){t.classList.add("form__input_bad"),t.addEventListener("input",function e(s){t.classList.remove("form__input_bad"),t.removeEventListener("input",e)})}function L(e,s,t){for(var n=e.querySelectorAll("input"),o=n.length,a=0;a<o;a++){var r=n[a];switch(r.type){case"checkbox":s[r.name]&&g(r);break;case"file":s[r.name]&&g(r);default:s[r.name]?(g(r),function(t,e){var n=document.createElement("div");n.classList.add("invalid-feedback"),n.innerText=e,t.insertAdjacentElement("afterend",n);var s=t.nextElementSibling.classList.contains("invalid-feedback");console.log(s),t.addEventListener("input",function e(s){n.remove(),t.removeEventListener("input",e)})}(r,s[r.name])):(function(t){t.classList.add("form__input_good"),t.addEventListener("input",function e(s){t.classList.remove("form__input_good"),t.removeEventListener("input",e)})}(r),function(t,e){var n=document.createElement("div");n.classList.add("valid-feedback"),n.innerText=e,t.insertAdjacentElement("afterend",n),t.addEventListener("input",function e(s){n.remove(),t.removeEventListener("input",e)})}(r,t[r.name]))}}}v.addEventListener("click",function(){h.classList.add("mobile-header_open")}),p.addEventListener("click",function(){h.classList.remove("mobile-header_open")}),f=document.querySelector(".top-button"),window.addEventListener("scroll",function(){var e=window.pageYOffset;1500<e&&f.classList.add("top-button_show"),e<1500&&f.classList.remove("top-button_show")}),f.addEventListener("click",function e(){var s=window.pageYOffset/50;0<window.pageYOffset&&(window.scrollBy(0,-s),setTimeout(e,0))}),document.forms["form-register"].addEventListener("submit",function(e){e.preventDefault();var s=e.target,t=function(e){for(var s={},t=e.querySelectorAll("input"),n=e.querySelectorAll("textarea"),o=t.length,a=0;a<o;a++){var r=t[a];switch(r.type){case"checkbox":r.checked?s[r.name]="yes":s[r.name]=r.value;break;case"file":r.checked&&(s[r.name]=r.files);break;default:s[r.name]=r.value}}for(var i=n.length,l=0;l<i;l++){var c=t[l];s[c.name]=c.value}return s}(s);console.log(t);s.querySelector(".email_js"),s.querySelector(".password_js"),s.querySelector(".password-repeat_js");var n=s.querySelector(".name_js"),o=s.querySelector(".surname_js"),a=s.querySelector(".location_js"),r=s.querySelector(".age_js"),i={},l={};null===t.email||""===t.email?i.email="This field is required":t.email.match(/^[0-9a-z-\.]+\@[0-9a-z-]{2,}\.[a-z]{2,}$/i)?l.email="All right":i.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")',null===t.passwordRep||""===t.passwordRep?i.passwordRep="This field is required":t.password!=t.passwordRep?i.passwordRep="Password mismatch":l.passwordRep="All right",null===t.password||""===t.password?i.password="This field is required":t.password.length<3||20<=t.password.length?i.password="Password must be between 3 and 20 characters":l.password="All right",null===t.name||""===t.name?i.name="This field is required":t.name.length<3||20<=t.name.length?i.name="Your name is too short or too long":parseInt(n.value)?i.name="This name is not valid":l.name="All right",null===t.surname||""===t.surname?i.surname="This field is required":t.surname.length<3||20<=t.surname.length?i.surname="Your surname is too short or too long":parseInt(o.value)?i.surname="This surname is not valid":l.surname="All right",null===t.location||""===t.location||t.location.length<3||20<=t.location.length?i.location="This field is required":parseInt(a.value)?i.location="This location is not valid":l.location="All right",r.value<0||100<=r.value?i.age="This age is not valid":null===t.age||""===t.age?i.age="This field is required":l.age="All right",L(s,i,l)});