"use strict";var t=document.querySelector(".modal_message-js"),s=document.querySelector(".footer__button_message-js"),e=document.querySelector(".modal__close_message-js"),n=document.querySelector(".form__input_message-js");s.addEventListener("click",function(){t.classList.remove("modal_close"),n.focus()}),e.addEventListener("click",function(){t.classList.add("modal_close"),s.focus()}),window.addEventListener("keydown",function(e){t.classList.contains("modal_close")||"Escape"!==e.code||(t.classList.add("modal_close"),s.focus())});var o=document.querySelector(".modal_register-js"),a=document.querySelector(".header__register-button_js"),r=document.querySelector(".mobile-header__register-button_js"),i=document.querySelector(".modal__close_register-js"),l=document.querySelector(".form__input_register-js");r.addEventListener("click",function(){o.classList.remove("modal_close"),l.focus()}),a.addEventListener("click",function(){o.classList.remove("modal_close"),l.focus()}),i.addEventListener("click",function(){o.classList.add("modal_close"),a.focus()}),window.addEventListener("keydown",function(e){o.classList.contains("modal_close")||"Escape"!==e.code||(o.classList.add("modal_close"),a.focus())});var d=document.querySelector(".modal_sing-in-js"),c=document.querySelector(".header__sing-in-button_js"),u=document.querySelector(".mobile-header__sing-in-button_js"),m=document.querySelector(".modal__close_sing-in-js"),f=document.querySelector(".form__input_sing-in-js");u.addEventListener("click",function(){d.classList.remove("modal_close"),f.focus()}),c.addEventListener("click",function(){d.classList.remove("modal_close"),f.focus()}),m.addEventListener("click",function(){d.classList.add("modal_close"),c.focus()}),window.addEventListener("keydown",function(e){d.classList.contains("modal_close")||"Escape"!==e.code||(d.classList.add("modal_close"),c.focus())});var g,p=document.querySelector(".header__mobile-menu_js"),v=document.querySelector(".mobile-header__button-close_js"),_=document.querySelector(".mobile-header");function h(e){for(var t={},s=e.querySelectorAll("input"),n=e.querySelectorAll("textarea"),o=s.length,a=0;a<o;a++){var r=s[a];switch(r.type){case"checkbox":r.checked?t[r.name]="yes":t[r.name]=r.value;break;case"file":t[r.name]=r.files;break;default:t[r.name]=r.value}}o=n.length;for(var i=0;i<o;i++){var l=n[i];t[l.name]=l.value}return t}function y(s){s.classList.add("form__input_bad"),s.addEventListener("input",function e(t){s.classList.remove("form__input_bad"),s.removeEventListener("input",e)})}function w(s){s.classList.add("form__input_good"),s.addEventListener("input",function e(t){s.classList.remove("form__input_good"),s.removeEventListener("input",e)})}function b(e,t,s){for(var n=e.querySelectorAll("input"),o=e.querySelectorAll("textarea"),a=e.querySelector(".form__checkbox-indicator"),r=n.length,i=0;i<r;i++){var l=n[i];switch(l.type){case"checkbox":t[l.name]&&a.classList.add("form__checkbox-indicator_bad");break;case"file":t[l.name]&&y(l);break;default:t[l.name]?(y(l),q(l,t[l.name])):(w(l),S(l,s[l.name]))}}r=o.length;for(var d=0;d<r;d++){var c=o[d];t[c.name]?(y(c),q(c,t[c.name])):(w(c),S(c,s[c.name]))}}function L(e){return e.match(/^[0-9a-z-\.]+\@[0-9a-z-]{2,}\.[a-z]{2,}$/i)}function q(s,e){var n=document.createElement("div");n.classList.add("invalid-feedback"),n.innerText=e;var t=s.nextElementSibling;console.log(t),null==t&&(s.insertAdjacentElement("afterend",n),s.addEventListener("input",function e(t){n.remove(),s.removeEventListener("input",e)}))}function S(s,e){var n=document.createElement("div");n.classList.add("valid-feedback"),n.innerText=e;var t=s.nextElementSibling;console.log(t),null==t&&(s.insertAdjacentElement("afterend",n),s.addEventListener("input",function e(t){n.remove(),s.removeEventListener("input",e)}))}p.addEventListener("click",function(){_.classList.add("mobile-header_open")}),v.addEventListener("click",function(){_.classList.remove("mobile-header_open")}),g=document.querySelector(".top-button"),window.addEventListener("scroll",function(){var e=window.pageYOffset;1500<e&&g.classList.add("top-button_show"),e<1500&&g.classList.remove("top-button_show")}),g.addEventListener("click",function e(){var t=window.pageYOffset/50;0<window.pageYOffset&&(window.scrollBy(0,-t),setTimeout(e,0))}),document.forms["form-register"].addEventListener("submit",function(e){e.preventDefault();var t=e.target,s=h(t);console.log(s);t.querySelector(".email-js"),t.querySelector(".password-js"),t.querySelector(".password-repeat-js");var n=t.querySelector(".name-js"),o=t.querySelector(".surname-js"),a=t.querySelector(".location-js"),r=t.querySelector(".age-js"),i=(t.querySelector(".acceptbutton-js"),{}),l={};null===s.email||""===s.email?i.email="This field is required":L(s.email)?l.email="All right":i.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")',null===s.passwordRep||""===s.passwordRep?i.passwordRep="This field is required":s.password!=s.passwordRep?i.passwordRep="Password mismatch":l.passwordRep="All right",null===s.password||""===s.password?i.password="This field is required":s.password.length<3||20<=s.password.length?i.password="Password must be between 3 and 20 characters":l.password="All right",null===s.name||""===s.name?i.name="This field is required":parseInt(n.value)?i.name="This name is not valid":s.name.length<3||20<=s.name.length?i.name="Your name is too short or too long":l.name="All right",null===s.surname||""===s.surname?i.surname="This field is required":parseInt(o.value)?i.surname="This surname is not valid":s.surname.length<3||20<=s.surname.length?i.surname="Your surname is too short or too long":l.surname="All right",null===s.location||""===s.location?i.location="This field is required":parseInt(a.value)?i.location="This location is not valid":s.location.length<3||20<=s.location.length?i.location="Location name is too short or too long":l.location="All right",r.value<0||100<=r.value?i.age="This age is not valid":null===s.age||""===s.age?i.age="This field is required":l.age="All right","no"===s.acceptbutton&&(i.acceptbutton="You didn't agree to processing of your personal data"),b(t,i,l)}),document.forms["form-sing-in"].addEventListener("submit",function(e){e.preventDefault();var t=e.target,s=h(t);console.log(s);t.querySelector(".email-js"),t.querySelector(".password-js");var n={},o={};null===s.email||""===s.email?n.email="This field is required":L(s.email)?o.email="All right":n.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")',null===s.password||""===s.password?n.password="This field is required":s.password.length<3||20<=s.password.length?n.password="Password must be between 3 and 20 characters":o.password="All right",b(t,n,o)}),document.forms["form-message"].addEventListener("submit",function(e){e.preventDefault();var t=e.target,s=h(t);console.log(s);t.querySelector(".email-js");var n=t.querySelector(".name-js"),o=t.querySelector(".message-js"),a=(t.querySelector(".phone-js"),t.querySelector(".messagetext-js"),{}),r={};null===s.email||""===s.email?a.email="This field is required":L(s.email)?r.email="All right":a.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")',null===s.name||""===s.name?a.name="This field is required":parseInt(n.value)?a.name="This name is not valid":s.name.length<3||20<=s.name.length?a.name="Your name is too short or too long":r.name="All right",null===s.message||""===s.message?a.message="This field is required":parseInt(o.value)?a.message="This message is not valid":s.message.length<3||20<=s.message.length?a.message="Your message is too short or too long":r.message="All right",null===s.phone||""===s.phone?a.phone="This field is required":s.phone.match(/^(\s*)?(\+)?([-_():=+]?\d[- _():=+]?){10,14}(\s*)?$/)?r.phone="All right":a.phone="Please enter a valid phone number",null===s.messagetext||""===s.messagetext?a.messagetext="This field is required":s.messagetext.length<3?a.messagetext="Your message is too short":r.messagetext="All right","no"===s.acceptbutton&&(a.acceptbutton="You didn't agree to processing of your personal data"),b(t,a,r)});var E=document.querySelector(".slider__wrapper"),j=document.querySelector(".slider__inner-wrapper"),k=document.querySelector(".slider__pagination"),x=document.querySelector(".slider__button_back"),A=document.querySelector(".slider__button_next"),T=document.querySelectorAll(".slider__slide"),Y=+getComputedStyle(E).width.split("px")[0],P=j.childElementCount-1,R=0,I=[];function z(){Y=+getComputedStyle(E).width.split("px")[0];for(var e=0;e<T.length;e++)T[e].style.width=Y+"px"}function C(e){e<0||P<e||(j.style.transition="margin-left .5s",I[R].classList.remove("slider__dot_active"),I[e].classList.add("slider__dot_active"),0<R-e&&A.removeAttribute("disabled"),R-e<0&&x.removeAttribute("disabled"),0===e&&x.setAttribute("disabled","disabled"),e===P&&A.setAttribute("disabled","disabled"),j.style.marginLeft="-"+Y*e+"px",R=e)}z(),function(){for(var e=0;e<T.length;e++)!function(e){var t=document.createElement("button");t.classList.add("slider__dot"),e===R&&t.classList.add("slider__dot_active"),t.addEventListener("click",function(){C(e)}),I[I.length]=t,k.insertAdjacentElement("beforeend",t)}(e)}(),A.addEventListener("click",function(){C(R+1)}),x.addEventListener("click",function(){C(R-1)}),window.addEventListener("resize",function(){j.style.transition="",z(),C(R),j.style.transition="margin-left .5s"});new Swiper(".swiper-container",{autoHeight:!0,spaceBetween:20,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});