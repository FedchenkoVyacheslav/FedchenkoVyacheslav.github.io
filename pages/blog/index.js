"use strict";var s=document.querySelector(".modal_message-js"),t=document.querySelector(".footer__button_message-js"),e=document.querySelector(".modal__close_message-js"),o=document.querySelector(".form__input_message-js");t.addEventListener("click",function(){s.classList.remove("modal_close"),o.focus()}),e.addEventListener("click",function(){s.classList.add("modal_close"),t.focus()}),window.addEventListener("keydown",function(e){s.classList.contains("modal_close")||"Escape"!==e.code||(s.classList.add("modal_close"),t.focus())});var n=document.querySelector(".modal_register-js"),a=document.querySelector(".header__register-button_js"),r=document.querySelector(".mobile-header__register-button_js"),l=document.querySelector(".modal__close_register-js"),i=document.querySelector(".form__input_register-js");r.addEventListener("click",function(){n.classList.remove("modal_close"),i.focus()}),a.addEventListener("click",function(){n.classList.remove("modal_close"),i.focus()}),l.addEventListener("click",function(){n.classList.add("modal_close"),a.focus()}),window.addEventListener("keydown",function(e){n.classList.contains("modal_close")||"Escape"!==e.code||(n.classList.add("modal_close"),a.focus())});var c=document.querySelector(".modal_sing-in-js"),d=document.querySelector(".header__sing-in-button_js"),u=document.querySelector(".mobile-header__sing-in-button_js"),m=document.querySelector(".modal__close_sing-in-js"),g=document.querySelector(".form__input_sing-in-js");u.addEventListener("click",function(){c.classList.remove("modal_close"),g.focus()}),d.addEventListener("click",function(){c.classList.remove("modal_close"),g.focus()}),m.addEventListener("click",function(){c.classList.add("modal_close"),d.focus()}),window.addEventListener("keydown",function(e){c.classList.contains("modal_close")||"Escape"!==e.code||(c.classList.add("modal_close"),d.focus())});var f,h=document.querySelector(".header__mobile-menu_js"),v=document.querySelector(".mobile-header__button-close_js"),p=document.querySelector(".mobile-header");function _(e){for(var s={},t=e.querySelectorAll("input"),o=e.querySelectorAll("textarea"),n=t.length,a=0;a<n;a++){var r=t[a];switch(r.type){case"checkbox":r.checked?s[r.name]="yes":s[r.name]=r.value;break;case"file":s[r.name]=r.files;break;default:s[r.name]=r.value}}n=o.length;for(var l=0;l<n;l++){var i=o[l];s[i.name]=i.value}return s}function y(t){t.classList.add("form__input_bad"),t.addEventListener("input",function e(s){t.classList.remove("form__input_bad"),t.removeEventListener("input",e)})}function q(t){t.classList.add("form__input_good"),t.addEventListener("input",function e(s){t.classList.remove("form__input_good"),t.removeEventListener("input",e)})}function w(e,s,t){for(var o=e.querySelectorAll("input"),n=e.querySelectorAll("textarea"),a=e.querySelector(".form__checkbox-indicator"),r=o.length,l=0;l<r;l++){var i=o[l];switch(i.type){case"checkbox":s[i.name]&&a.classList.add("form__checkbox-indicator_bad");break;case"file":s[i.name]&&y(i);break;default:s[i.name]?(y(i),b(i,s[i.name])):(q(i),S(i,t[i.name]))}}r=n.length;for(var c=0;c<r;c++){var d=n[c];s[d.name]?(y(d),b(d,s[d.name])):(q(d),S(d,t[d.name]))}}function L(e){return e.match(/^[0-9a-z-\.]+\@[0-9a-z-]{2,}\.[a-z]{2,}$/i)}function b(t,e){var o=document.createElement("div");o.classList.add("invalid-feedback"),o.innerText=e;var s=t.nextElementSibling;console.log(s),null==s&&(t.insertAdjacentElement("afterend",o),t.addEventListener("input",function e(s){o.remove(),t.removeEventListener("input",e)}))}function S(t,e){var o=document.createElement("div");o.classList.add("valid-feedback"),o.innerText=e;var s=t.nextElementSibling;console.log(s),null==s&&(t.insertAdjacentElement("afterend",o),t.addEventListener("input",function e(s){o.remove(),t.removeEventListener("input",e)}))}h.addEventListener("click",function(){p.classList.add("mobile-header_open")}),v.addEventListener("click",function(){p.classList.remove("mobile-header_open")}),f=document.querySelector(".top-button"),window.addEventListener("scroll",function(){var e=window.pageYOffset;1500<e&&f.classList.add("top-button_show"),e<1500&&f.classList.remove("top-button_show")}),f.addEventListener("click",function e(){var s=window.pageYOffset/50;0<window.pageYOffset&&(window.scrollBy(0,-s),setTimeout(e,0))}),document.forms["form-register"].addEventListener("submit",function(e){e.preventDefault();var s=e.target,t=_(s);console.log(t);s.querySelector(".email-js"),s.querySelector(".password-js"),s.querySelector(".password-repeat-js");var o=s.querySelector(".name-js"),n=s.querySelector(".surname-js"),a=s.querySelector(".location-js"),r=s.querySelector(".age-js"),l=(s.querySelector(".acceptbutton-js"),{}),i={};null===t.email||""===t.email?l.email="This field is required":L(t.email)?i.email="All right":l.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")',null===t.passwordRep||""===t.passwordRep?l.passwordRep="This field is required":t.password!=t.passwordRep?l.passwordRep="Password mismatch":i.passwordRep="All right",null===t.password||""===t.password?l.password="This field is required":t.password.length<3||20<=t.password.length?l.password="Password must be between 3 and 20 characters":i.password="All right",null===t.name||""===t.name?l.name="This field is required":parseInt(o.value)?l.name="This name is not valid":t.name.length<3||20<=t.name.length?l.name="Your name is too short or too long":i.name="All right",null===t.surname||""===t.surname?l.surname="This field is required":parseInt(n.value)?l.surname="This surname is not valid":t.surname.length<3||20<=t.surname.length?l.surname="Your surname is too short or too long":i.surname="All right",null===t.location||""===t.location?l.location="This field is required":parseInt(a.value)?l.location="This location is not valid":t.location.length<3||20<=t.location.length?l.location="Location name is too short or too long":i.location="All right",r.value<0||100<=r.value?l.age="This age is not valid":null===t.age||""===t.age?l.age="This field is required":i.age="All right","no"===t.acceptbutton&&(l.acceptbutton="You didn't agree to processing of your personal data"),w(s,l,i)}),document.forms["form-sing-in"].addEventListener("submit",function(e){e.preventDefault();var s=e.target,t=_(s);console.log(t);s.querySelector(".email-js"),s.querySelector(".password-js");var o={},n={};null===t.email||""===t.email?o.email="This field is required":L(t.email)?n.email="All right":o.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")',null===t.password||""===t.password?o.password="This field is required":t.password.length<3||20<=t.password.length?o.password="Password must be between 3 and 20 characters":n.password="All right",w(s,o,n)}),document.forms["form-message"].addEventListener("submit",function(e){e.preventDefault();var s=e.target,t=_(s);console.log(t);s.querySelector(".email-js");var o=s.querySelector(".name-js"),n=s.querySelector(".message-js"),a=(s.querySelector(".phone-js"),s.querySelector(".messagetext-js"),{}),r={};null===t.email||""===t.email?a.email="This field is required":L(t.email)?r.email="All right":a.email='Please enter a valid email address (your entry is not in the format "somebody@example.com")',null===t.name||""===t.name?a.name="This field is required":parseInt(o.value)?a.name="This name is not valid":t.name.length<3||20<=t.name.length?a.name="Your name is too short or too long":r.name="All right",null===t.message||""===t.message?a.message="This field is required":parseInt(n.value)?a.message="This message is not valid":t.message.length<3||20<=t.message.length?a.message="Your message is too short or too long":r.message="All right",null===t.phone||""===t.phone?a.phone="This field is required":t.phone.match(/^(\s*)?(\+)?([-_():=+]?\d[- _():=+]?){10,14}(\s*)?$/)?r.phone="All right":a.phone="Please enter a valid phone number",null===t.messagetext||""===t.messagetext?a.messagetext="This field is required":t.messagetext.length<3?a.messagetext="Your message is too short":r.messagetext="All right","no"===t.acceptbutton&&(a.acceptbutton="You didn't agree to processing of your personal data"),w(s,a,r)});